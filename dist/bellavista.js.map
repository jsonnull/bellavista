{"version":3,"sources":["node_modules/browser-pack/_prelude.js","lib/bellavista.es6","lib/controller.es6","lib/data.es6","lib/model.es6","lib/provider.es6","lib/router.es6","lib/store.es6","lib/util.es6","lib/view.es6"],"names":[],"mappings":"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","file":"bellavista.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import {Store} from './store.es6';\nimport {Provider,Factory,Service} from './provider.es6';\nimport {Data} from './data.es6';\nimport {Model} from './model.es6';\nimport {View} from './view.es6';\nimport {Controller} from './controller.es6';\nimport {Router} from './router.es6';\nimport {Util} from './util.es6';\n\nclass Bellavista {\n\n    constructor() {\n        this.components = new Store();\n        this.routes = new Store();\n    }\n\n    // This function determines whether a given request matches a route\n    static match(route, req) {\n        return (req.url == route);\n    }\n\n    provider(name, deps, obj) {\n\n        if (obj == undefined) {\n            obj = deps;\n            deps = [];\n        }\n\n        new Provider(this.components, name, obj, {deps: deps});\n    }\n\n    data(name, deps, func) {\n        new Service(this.components, name, func, { deps: deps });\n    }\n\n    model(name, deps, func) {\n        new Factory(this.components, name, func, { deps: deps });\n    }\n\n    view(name, deps, func) {\n        new Factory(this.components, name, func, { deps: deps });\n    }\n\n    controller(name, deps, func) {\n        new Service(this.components, name, func, { deps: deps });\n    }\n\n    route(name, deps, func) {\n        new Factory(this.routes, name, func,\n            { deps: deps, dependencyStore: this.components});\n    }\n}\n\nfunction bellavista() {\n    return new Bellavista;\n}\n\nexport default global.bellavista = bellavista;\n","export class Controller {\n    constructor(store, name, cons, deps) {\n        \n    }\n}","export class Data {\n    constructor(store, name, cons, deps) {\n        \n    }\n}","export class Model {\n    constructor(store, name, cons, deps) {\n        \n    }\n}","import {Util} from './util.es6';\n\n/*\n * Bellavista providers are healivy inspired by the providers in Angular\n */\n\n/*\n * A provider is an object with a get method\n */\nexport class Provider {\n    constructor(store, name, obj, opts) {\n\n        // Set default options and override\n        var { dependencyStore = store, deps = [], layer } = opts;\n\n        this.dependencyStore = dependencyStore;\n        this.deps = deps;\n        this.layer = layer;\n\n        store.set(name, obj);\n    }\n\n}\n\n/*\n * A factory is a provider with a get method that returns the object\n */\nexport class Factory extends Provider {\n    constructor(store, name, cons, opts) {\n\n        // Set default options and override\n        var { dependencyStore = store, deps = [] } = opts;\n\n        // Create a new object for the provider with a get method\n        var obj = {};\n        obj.get = function() {\n\n            // Inject dependencies on every new factory object\n            let deps = store.injectDependencies(name);\n\n            // Call the constructor and return the new object\n            return new cons(...deps);\n        }\n\n        // Provider class stores additional information\n        super(store, name, obj, opts);\n    }\n}\n\n/*\n * Service is a factory that acquires the constructed singleton upon creation\n */\nexport class Service extends Factory {\n    constructor(store, name, cons, opts) {\n\n        // Ignore options, they're not needed by the service class\n\n        // Defer creation until the first time the service is retrieved\n        var service = null;\n\n        // The factory object will call this constructor function, initializing\n        // the service the first time it is injected. Subsequent injections just\n        // return the stored service\n        var factoryFunction = function(the_deps) {\n\n            // If service hasn't been created yet, do so now\n            if (service == null) {\n                service = new cons(the_deps);\n            }\n\n            return service;\n        }\n\n        // The factory class will call the constructor\n        super(store, name, cons, opts);\n    }\n}\n","export class Router {\n    constructor(store, name, cons, deps) {\n        \n    }\n}","export class Store {\n\n    // Initialize the store\n    constructor() {\n        // Holds all modules for the app\n        this.dict = {};\n    }\n\n    // Instantiate each and store\n    set(name, obj) {\n        this.dict[name] = obj;\n    }\n\n    // Return the provider from the store\n    get(name) {\n        if (this.dict[name] !== undefined) {\n            return this.dict[name].get();\n        }\n    }\n\n    // Get a provider from the store without calling its get method\n    retrieve(name) {\n        return this.dict[name];\n    }\n\n    // Return array of instantiated dependencies for a given provider\n    injectDependencies(name) {\n        var provider = this.retrieve(name);\n\n        var deps = [];\n\n        provider.deps.forEach( (name, index) => {\n            deps[index] = provider.dependencyStore.get(name);\n        });\n\n        return deps;\n    }\n\n}\n","export class Util {\n    static isArray(arr) {\n        return Object.prototype.toString.call( someVar ) === '[object Array]';\n    }\n}","export class View {\n    constructor(store, name, cons, deps) {\n        \n    }\n}"]}